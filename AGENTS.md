# Документация проекта Лендинга

## Описание проекта

Это персональная страница, демонстрирующая профессиональные навыки, проекты и опыт в качестве веб-разработчика. Создано с использованием Astro (статический сайт-генератор) и развернуто на Yandex Cloud.

## Структура проекта

```
src/
├── components/
│   ├── FirstScreen/           # Начальный раздел с личной информацией
│   ├── Portfolio/             # Раздел с показом проектов
│   ├── Header.astro           # Навигационная панель
│   ├── Footer.astro           # Футер страницы
│   ├── Layout.astro           # Основная структура страницы
│   ├── Head.astro             # SEO-компонент с мета-тегами
│   ├── Yandex/                # Компоненты для аналитики Yandex
│   └── SocialMediaLinks/      # Ссылки на социальные сети
├── pages/
│   ├── index.astro            # Главная лендинг страница
│   ├── music.astro            # Листинг музыкальных новостей
│   └── music/[newsId].astro   # Детальная страница новости
├── features/
│   └── viewNews/              # Фича-папка для отображения новостей
│       ├── collections/       # Утилиты для работы с коллекциями
│       ├── components/        # Компоненты фичи (NewsCard и т.д.)
│       └── schemas/           # Zod-схемы валидации данных
└── utils/
    └── number/                # Утилиты для работы с числами
```

## Используемые технологии

- **Astro**: Статический сайт-генератор для создания быстрых, контент-ориентированных веб-сайтов
- **Yandex Cloud**: Облачная инфраструктура для развертывания
- **GitHub Actions**: CI/CD пайплайн для автоматических деплоев

### Дизайн-система проекта

Все компоненты должны использовать общую дизайн-систему, определенную в `src/components/GlobalStyles/index.astro`.
Если в системе не хватает необходимых переменных — развивай её, а не придумывай решение на месте.

#### Рекомендации по анимациям

- Используйте только `transform` и `opacity` для анимаций (GPU-акселерация, без reflow)
- Длительность анимации выбирайте из шкалы: 75ms, 150ms, 300ms
- Пример: `transition: transform var(--transition-duration-2) ease`

### Текущие CSS переменные:

- **Шкала отступов**: `--space-2` до `--space-12` (шаг 2px)
- **Цветовые палитры**:
  - Желтая (`yellow-1..10`) — выделения и акценты
  - Красная (`red-1..10`) — ошибки и предупреждения
  - Серая (`grey-1..10`) — текст и фоны
  - Синяя (`blue-1..10`) — основные действия и ссылки
- **Шкала теней**: `--box-shadow-1` до `--box-shadow-4` (от карточек до всплывающих элементов)
- **z-index**: `--z-index-1` до `--z-index-5`
- **transition-анимации**: `--transition-duration-1` (75ms), `--transition-duration-2` (150ms), `--transition-duration-3` (300ms)

### Astro

- Тебе доступен MCP документации Astro, используй его для получения дополнительной информации когда сталкиваешься с его сущностями
- Также у Astro есть специальный файл для контекста, можешь его использовать когда решение задачи связано с применением возможностей данного фреймворка: https://docs.astro.build/llms.txt

#### Content Collections

Проект использует Markdown-файлы для управления контентом новостей:

- **Схемы валидации**: Zod-схемы (`src/features/viewNews/schemas/`) определяют структуру данных
- **Загрузка коллекций**: `getCollection("musicNews")` загружает Markdown-файлы из `collections/musicNews/`
- **Динамическая генерация страниц**: `getStaticPaths()` создаёт отдельные страницы для каждой новости

Пример структуры Markdown-новости:

```markdown
---
title: "Отчетный концерт клуба «Живой звук» 2025"
date: 06-07-2025
images:
  - /collections/musicNews/отчетный-концерт-жз-2025.jpg
videos:
  - https://runtime.video.cloud.yandex.net/player/video/vplvrcab7dowsinl4v5m?autoplay=1&mute=1
---

Текст новости с поддержкой Markdown и HTML.
```

## Процесс развертывания

Сайт автоматически разворачивается на Yandex Cloud при пушах в тегированные коммиты:

1. Сборка сайта с использованием Astro
2. Создание временного бакета в Yandex Object Storage
3. Обновление API Gateway для указания нового бакета
4. Удаление предыдущей версии бакета

## Основные особенности

- Адаптивный дизайн с использованием согласованной дизайн-системы (CSS переменные)
- Показ проектов с детальной информацией
- Интеграция ссылок на социальные сети
- Аналитика Yandex Metrika
- Эффект фейерверков в специальные дни
- Отображение кода проектов (с использованием компонента Astro Code)
- Музыкальный раздел с отображением новостей (видео и изображения)

## Процесс развертывания (.github/workflows/deploy.yml)

Процесс деплоя включает:

- Получение репозитория
- Настройка среды Node.js
- Установка зависимостей с помощью npm ci
- Сборка сайта с использованием Astro
- Установка и вход в Yandex Cloud CLI
- Генерация уникального имени бакета с таймстампом
- Создание нового хранилища объектов
- Загрузка собранных файлов в Object Storage
- Настройка API Gateway с использованием envsubst
- Обновление спецификации API Gateway
- Удаление предыдущей версии бакета

## Настройка разработки

Для запуска проекта локально:

1. Установить зависимости: `npm install`
2. Запустить сервер разработки: `npm start`
3. Собрать для продакшена: `npm run build`

## Конфигурационные файлы

- `astro.config.mjs`: Конфигурация Astro с настройками отзывчивых изображений и сервера
- `src/pages/music.astro`: Листинг музыкальных новостей с сортировкой по дате
- `src/pages/music/[newsId].astro`: Детальная страница отдельной новости
- `.github/.secrets.local`: Локальные секреты для тестирования CI/CD с act-cli
- `src/pages/index.astro`: Главная страница с приветствием и портфолио
- `src/components/Head.astro`: SEO-компонент с поддержкой динамического заголовка
- `src/components/GlobalStyles/index.astro`: Централизованная дизайн-система (переменные, стили по умолчанию)
- `package.json`: Зависимости проекта и скрипты
